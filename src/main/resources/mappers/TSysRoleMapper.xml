<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lcyzh.nmerp.dao.TSysRoleMapper">

    <resultMap id="tSysRoleResultMap" type="com.lcyzh.nmerp.entity.TSysRole">
        <result column="role_id" property="roleId" jdbcType="BIGINT"/>
        <result column="role_name" property="roleName" jdbcType="VARCHAR"/>
        <result column="role_type" property="roleType" jdbcType="VARCHAR"/>
        <result column="role_sort" property="roleSort" jdbcType="DECIMAL"/>
        <result column="is_sys" property="isSys" jdbcType="CHAR"/>
        <result column="user_type" property="userType" jdbcType="VARCHAR"/>
        <result column="status" property="status" jdbcType="CHAR"/>
        <result column="create_by" property="createBy" jdbcType="VARCHAR"/>
        <result column="create_date" property="createDate" jdbcType="TIMESTAMP"/>
        <result column="remarks" property="remarks" jdbcType="VARCHAR"/>
    </resultMap>


    <select id="findByUserId"  parameterType="java.lang.Integer" resultMap="tSysRoleResultMap">
        SELECT *
        FROM T_SYS_ROLE
        WHERE role_id IN
        (SELECT DISTINCT role_id FROM T_SYS_USER_ROLE WHERE  user_id = #{userId})
        ORDER BY role_sort
    </select>

</mapper>